"use strict";(self.webpackChunk_osuresearch_ripple=self.webpackChunk_osuresearch_ripple||[]).push([[914],{"./src/components/TextField/TextField.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,WithCharacterLimit:()=>WithCharacterLimit,WithNoNewline:()=>WithNoNewline,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TextField_stories});var react=__webpack_require__("./node_modules/react/index.js"),index_module=__webpack_require__("./node_modules/@osuresearch/ui/dist/index.module.js"),dist_import=__webpack_require__("./node_modules/@react-aria/textfield/dist/import.mjs"),dist=__webpack_require__("./node_modules/@tiptap/extension-placeholder/dist/index.js"),core_dist=__webpack_require__("./node_modules/@tiptap/core/dist/index.js"),prosemirror_state_dist=__webpack_require__("./node_modules/prosemirror-state/dist/index.js");const NoNewLine=core_dist.hj.create({name:"no_newline",addProseMirrorPlugins:()=>[new prosemirror_state_dist.Sy({key:new prosemirror_state_dist.H$("eventHandler"),props:{handleKeyDown:(view,event)=>{if("Enter"===event.key&&!event.shiftKey)return console.log("enter pressed"),!0}}})]});var react_dist=__webpack_require__("./node_modules/@tiptap/react/dist/index.js"),starter_kit_dist=__webpack_require__("./node_modules/@tiptap/starter-kit/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function CharacterLimit({count,limit}){const isNearCharacterLimit=limit&&count/limit>.8;return(0,jsx_runtime.jsxs)(index_module.xv,{fs:"sm",c:isNearCharacterLimit?"warning-shade":"dark",style:{float:"right"},children:[isNearCharacterLimit&&(0,jsx_runtime.jsx)(index_module.JO,{name:"exclamationFill"})," ",(0,jsx_runtime.jsx)(index_module.TX,{children:"Character count: "}),count,(0,jsx_runtime.jsx)(index_module.TX,{children:" out of "})," "," / ",limit]})}CharacterLimit.displayName="CharacterLimit";try{CharacterLimit.displayName="CharacterLimit",CharacterLimit.__docgenInfo={description:"",displayName:"CharacterLimit",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TextField/CharacterLimit.tsx#CharacterLimit"]={docgenInfo:CharacterLimit.__docgenInfo,name:"CharacterLimit",path:"src/components/TextField/CharacterLimit.tsx#CharacterLimit"})}catch(__react_docgen_typescript_loader_error){}const Container=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div`
  width: 100%;
  .ProseMirror {
    min-height: ${props=>props.height}rem;

    &.ProseMirror-focused {
      outline: none;
    }
  }
`;function TextField({limit=0,height=5,noNewline,...props}){const{name,onChange,onBlur,value,isDisabled}=props;(0,react.useEffect)((()=>{}),[]);const extensions=[dist.Z.configure({placeholder:"Loading..."}),starter_kit_dist.Z];noNewline&&extensions.push(NoNewLine);const editor=(0,react_dist.jE)({content:value,extensions,editable:!isDisabled,onUpdate:({editor})=>{onChange&&onChange(editor.getHTML())},onBlur({editor}){onChange&&onChange(editor.getHTML())},editorProps:{attributes:{spellcheck:"false"}}}),inputRef=(0,react.useRef)(null),{labelProps,inputProps,descriptionProps,errorMessageProps}=(0,dist_import.E)(props,inputRef);return(0,jsx_runtime.jsx)(index_module.Wi,{labelProps,descriptionProps,errorMessageProps,...props,name,children:(0,jsx_runtime.jsxs)(Container,{height,children:[(0,jsx_runtime.jsx)(react_dist.kg,{editor,id:inputProps.id,"aria-labelledby":inputProps["aria-labelledby"],"aria-describedby":inputProps["aria-describedby"],className:(0,index_module.cx)("rui-w-full rui-p-xs rui-border-2",{"rui-border-light-shade":!editor?.isFocused},{"rui-border-dark-shade":editor?.isFocused},{"rui-border-error":inputProps["aria-invalid"]})}),limit>0&&(0,jsx_runtime.jsx)(CharacterLimit,{limit,count:editor?.storage.characterCount?.characters()??0})]})})}TextField.displayName="TextField";try{TextField.displayName="TextField",TextField.__docgenInfo={description:"The Ripple Text field does not behave exactly like native `input` or `textarea` fields.\n\nThis supports:\n- Rich text editing\n- Markdown WYSIWYG\n- In-field collaboration and annotation",displayName:"TextField",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Placeholder content if the field has not been filled out.\n\nThis must be a string to support inserting placeholder\ntext within native `input` elements.",name:"placeholder",required:!1,type:{name:"string"}},validationState:{defaultValue:null,description:"",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"invalid"'},{value:'"valid"'}]}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"ReactNode"}},necessityIndicator:{defaultValue:null,description:"",name:"necessityIndicator",required:!1,type:{name:"boolean"}},isRequired:{defaultValue:null,description:"",name:"isRequired",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},diff:{defaultValue:null,description:"",name:"diff",required:!1,type:{name:"enum",value:[{value:'"Current"'},{value:'"Unified"'},{value:'"SideBySide"'}]}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},limit:{defaultValue:{value:"0"},description:"",name:"limit",required:!1,type:{name:"number"}},height:{defaultValue:{value:"5"},description:"Initial height of the text container in CSS REM units.\nThe container will automatically grow in response to\nits contents.\n\nDefaults to `5`.",name:"height",required:!1,type:{name:"number"}},noNewline:{defaultValue:null,description:'Disable newlines. Set to true to mimic simple `<input type="text" />` inputs.\n\nDo note that text will still wrap in the editor.',name:"noNewline",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TextField/TextField.tsx#TextField"]={docgenInfo:TextField.__docgenInfo,name:"TextField",path:"src/components/TextField/TextField.tsx#TextField"})}catch(__react_docgen_typescript_loader_error){}const TextField_stories={title:"Components/TextField",component:TextField,argTypes:{}},Example={render:args=>(0,jsx_runtime.jsx)(TextField,{...args}),args:{name:"exampleText",label:"Example text field",description:"Additional descriptive text about this field"}},WithCharacterLimit={render:args=>(0,jsx_runtime.jsx)(TextField,{...args}),args:{name:"exampleText",label:"Example text field limited to 500 (visible) characters",height:3,limit:500}},WithNoNewline={render:args=>(0,jsx_runtime.jsx)(TextField,{...args}),args:{name:"exampleText",label:"Example text field with a single line height and disabled newlines",description:"Do note that text entry will still wrap rather than overflow scroll",noNewline:!0,height:1}};Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"{\n  render: args => <TextField {...args} />,\n  args: {\n    name: 'exampleText',\n    label: 'Example text field',\n    description: 'Additional descriptive text about this field'\n  }\n}",...Example.parameters?.docs?.source}}},WithCharacterLimit.parameters={...WithCharacterLimit.parameters,docs:{...WithCharacterLimit.parameters?.docs,source:{originalSource:"{\n  render: args => <TextField {...args} />,\n  args: {\n    name: 'exampleText',\n    label: 'Example text field limited to 500 (visible) characters',\n    height: 3,\n    limit: 500\n  }\n}",...WithCharacterLimit.parameters?.docs?.source}}},WithNoNewline.parameters={...WithNoNewline.parameters,docs:{...WithNoNewline.parameters?.docs,source:{originalSource:"{\n  render: args => <TextField {...args} />,\n  args: {\n    name: 'exampleText',\n    label: 'Example text field with a single line height and disabled newlines',\n    description: 'Do note that text entry will still wrap rather than overflow scroll',\n    noNewline: true,\n    height: 1\n  }\n}",...WithNoNewline.parameters?.docs?.source}}};const __namedExportsOrder=["Example","WithCharacterLimit","WithNoNewline"]}}]);
//# sourceMappingURL=components-TextField-TextField-stories.a990ec78.iframe.bundle.js.map